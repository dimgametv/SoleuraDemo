<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSC English Vocabulary Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .quiz-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            animation: slideIn 0.8s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .quiz-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .quiz-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .quiz-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .progress-section {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            border-radius: 4px;
            transition: width 0.5s ease;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: 200px 0; }
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #666;
        }

        .topic-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            animation: bounce 0.6s ease-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .question-section {
            padding: 40px 30px;
            min-height: 300px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .options-grid {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 18px 24px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover {
            border-color: #4facfe;
            background: #f8f9ff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.2);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            border-color: #4facfe;
            animation: selectPulse 0.3s ease-out;
        }

        @keyframes selectPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .option-btn.correct {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
            border-color: #56ab2f;
            color: white;
        }

        .option-btn.incorrect {
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            border-color: #ff416c;
            color: white;
        }

        .controls {
            padding: 30px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .score-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score-number {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            animation: scoreUpdate 0.5s ease-out;
        }

        @keyframes scoreUpdate {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .result-section {
            text-align: center;
            padding: 50px 30px;
        }

        .result-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: resultSlide 0.8s ease-out;
        }

        @keyframes resultSlide {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-score {
            font-size: 3rem;
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 20px;
            animation: scoreReveal 1s ease-out 0.3s both;
        }

        @keyframes scoreReveal {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .result-message {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 30px;
            animation: messageSlide 0.8s ease-out 0.6s both;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .topic-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .topic-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            animation: cardSlide 0.6s ease-out;
        }

        @keyframes cardSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .topic-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .topic-score {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4facfe;
        }

        .result-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .topic-selection {
            padding: 40px 30px;
        }

        .selection-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .selection-title {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .selection-subtitle {
            font-size: 1.1rem;
            color: #666;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .subtopics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .topic-card-select {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 16px;
            padding: 30px 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .topic-card-select:hover {
            border-color: #4facfe;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.2);
        }

        .topic-card-select.mixed-topic {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .topic-card-select.mixed-topic:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
        }

        .topic-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .topic-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .mixed-topic .topic-title {
            color: white;
        }

        .topic-description {
            font-size: 1rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .mixed-topic .topic-description {
            color: rgba(255, 255, 255, 0.9);
        }

        .topic-stats {
            font-size: 0.9rem;
            color: #4facfe;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(79, 172, 254, 0.1);
            border-radius: 20px;
            display: inline-block;
        }

        .mixed-topic .topic-stats {
            color: rgba(255, 255, 255, 0.9);
            background: rgba(255, 255, 255, 0.2);
        }

        .subtopic-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .subtopic-card:hover {
            border-color: #4facfe;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.2);
        }

        .subtopic-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 10px;
        }

        .subtopic-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .subtopic-range {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 12px;
        }

        .subtopic-difficulty {
            font-size: 0.8rem;
            padding: 4px 12px;
            border-radius: 15px;
            display: inline-block;
            font-weight: 600;
        }

        .difficulty-basic {
            background: #d4edda;
            color: #155724;
        }

        .difficulty-intermediate {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty-advanced {
            background: #f8d7da;
            color: #721c24;
        }

        .hidden {
            display: none;
        }

        /* Mobile First Responsive Design */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .quiz-container {
                border-radius: 15px;
                max-width: 100%;
            }
            
            .quiz-header {
                padding: 20px 15px;
            }
            
            .quiz-title {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }
            
            .quiz-subtitle {
                font-size: 0.9rem;
            }
            
            .progress-section {
                padding: 15px 20px;
            }
            
            .progress-info {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .topic-badge {
                align-self: flex-end;
                font-size: 0.7rem;
                padding: 6px 12px;
            }
            
            .question-section {
                padding: 25px 20px;
                min-height: 250px;
            }
            
            .question-text {
                font-size: 1.1rem;
                margin-bottom: 25px;
                line-height: 1.5;
            }
            
            .options-grid {
                gap: 12px;
                margin-bottom: 25px;
            }
            
            .option-btn {
                padding: 15px 18px;
                font-size: 0.95rem;
                border-radius: 10px;
                min-height: 50px;
                display: flex;
                align-items: center;
            }
            
            .controls {
                padding: 20px;
                flex-direction: column;
                gap: 15px;
            }
            
            .score-display {
                font-size: 1.1rem;
                order: 1;
            }
            
            .controls > div:last-child {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                order: 2;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                min-width: 100px;
            }
            
            .topic-selection, .subtopic-selection {
                padding: 25px 20px;
            }
            
            .selection-title {
                font-size: 1.6rem;
                margin-bottom: 8px;
            }
            
            .selection-subtitle {
                font-size: 1rem;
                margin-bottom: 25px;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                margin-top: 20px;
            }
            
            .subtopics-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                margin-top: 20px;
            }
            
            .topic-card-select {
                padding: 25px 20px;
                border-radius: 12px;
            }
            
            .topic-icon {
                font-size: 2.5rem;
                margin-bottom: 12px;
            }
            
            .topic-title {
                font-size: 1.2rem;
                margin-bottom: 8px;
            }
            
            .topic-description {
                font-size: 0.9rem;
                margin-bottom: 12px;
            }
            
            .topic-stats {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            
            .subtopic-card {
                padding: 15px 12px;
                border-radius: 10px;
            }
            
            .subtopic-number {
                font-size: 1.4rem;
                margin-bottom: 8px;
            }
            
            .subtopic-name {
                font-size: 0.95rem;
                margin-bottom: 6px;
            }
            
            .subtopic-range {
                font-size: 0.8rem;
                margin-bottom: 10px;
            }
            
            .subtopic-difficulty {
                font-size: 0.75rem;
                padding: 3px 10px;
            }
            
            .result-section {
                padding: 30px 20px;
            }
            
            .result-title {
                font-size: 2rem;
                margin-bottom: 15px;
            }
            
            .result-score {
                font-size: 2.5rem;
                margin-bottom: 15px;
            }
            
            .result-message {
                font-size: 1.1rem;
                margin-bottom: 25px;
            }
            
            .topic-breakdown {
                grid-template-columns: 1fr;
                gap: 15px;
                margin: 25px 0;
            }
            
            .topic-card {
                padding: 15px;
            }
            
            .topic-name {
                font-size: 0.9rem;
                margin-bottom: 8px;
            }
            
            .topic-score {
                font-size: 1.3rem;
            }
            
            .result-actions {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }
            
            .result-actions .btn {
                width: 100%;
                padding: 12px 20px;
            }
        }

        /* Tablet Portrait */
        @media (min-width: 481px) and (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .quiz-container {
                border-radius: 18px;
            }
            
            .quiz-header {
                padding: 25px 20px;
            }
            
            .quiz-title {
                font-size: 2.2rem;
            }
            
            .quiz-subtitle {
                font-size: 1rem;
            }
            
            .progress-section {
                padding: 18px 25px;
            }
            
            .question-section {
                padding: 35px 25px;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .option-btn {
                padding: 16px 22px;
                font-size: 1.05rem;
            }
            
            .controls {
                padding: 25px;
                flex-wrap: wrap;
                justify-content: space-between;
            }
            
            .score-display {
                flex-basis: 100%;
                justify-content: center;
                margin-bottom: 15px;
            }
            
            .topics-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 22px;
            }
            
            .subtopics-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 18px;
            }
            
            .topic-card-select {
                padding: 28px 22px;
            }
            
            .topic-icon {
                font-size: 2.8rem;
            }
            
            .topic-title {
                font-size: 1.3rem;
            }
            
            .result-section {
                padding: 40px 25px;
            }
            
            .topic-breakdown {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Tablet Landscape & Small Desktop */
        @media (min-width: 769px) and (max-width: 1024px) {
            .quiz-container {
                max-width: 900px;
            }
            
            .topics-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            
            .subtopics-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
            }
            
            .topic-breakdown {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Large Desktop */
        @media (min-width: 1025px) {
            .quiz-container {
                max-width: 1000px;
            }
            
            .topics-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .subtopics-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) and (pointer: coarse) {
            .option-btn {
                min-height: 55px;
                padding: 18px 20px;
            }
            
            .btn {
                min-height: 48px;
                padding: 14px 25px;
            }
            
            .topic-card-select, .subtopic-card {
                min-height: 120px;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
        }

        /* Landscape orientation adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            .quiz-header {
                padding: 15px 20px;
            }
            
            .quiz-title {
                font-size: 1.8rem;
                margin-bottom: 5px;
            }
            
            .quiz-subtitle {
                font-size: 0.9rem;
            }
            
            .question-section {
                padding: 20px 25px;
                min-height: 200px;
            }
            
            .question-text {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }
            
            .options-grid {
                gap: 10px;
                margin-bottom: 20px;
            }
            
            .option-btn {
                padding: 12px 18px;
                font-size: 0.95rem;
            }
            
            .controls {
                padding: 15px 25px;
            }
            
            .result-section {
                padding: 25px 20px;
            }
            
            .result-title {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }
            
            .result-score {
                font-size: 2.2rem;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 class="quiz-title">üéØ SSC English Vocabulary Quiz</h1>
            <p class="quiz-subtitle">Previous Years Questions (2017-2025) ‚Ä¢ 10,000 Unique Questions</p>
        </div>

        <div id="topic-selection" class="topic-selection">
            <div class="selection-header">
                <h2 class="selection-title">Choose Your Practice Topic</h2>
                <p class="selection-subtitle">Select a specific area to focus on or practice all topics together</p>
            </div>
            
            <div class="topics-grid">
                <div class="topic-card-select" onclick="showSubtopics('Synonyms')">
                    <div class="topic-icon">üìö</div>
                    <h3 class="topic-title">Synonyms</h3>
                    <p class="topic-description">2,000 questions in 40 sets of 50 questions each</p>
                    <div class="topic-stats">Advanced vocabulary ‚Ä¢ SSC Pattern</div>
                </div>
                
                <div class="topic-card-select" onclick="showSubtopics('Antonyms')">
                    <div class="topic-icon">üîÑ</div>
                    <h3 class="topic-title">Antonyms</h3>
                    <p class="topic-description">2,000 questions in 40 sets of 50 questions each</p>
                    <div class="topic-stats">Opposite words ‚Ä¢ Competitive exams</div>
                </div>
                
                <div class="topic-card-select" onclick="showSubtopics('Idioms')">
                    <div class="topic-icon">üí¨</div>
                    <h3 class="topic-title">Idioms & Phrases</h3>
                    <p class="topic-description">2,000 questions in 40 sets of 50 questions each</p>
                    <div class="topic-stats">Phrases ‚Ä¢ Real meanings</div>
                </div>
                
                <div class="topic-card-select" onclick="showSubtopics('One Word Substitutions')">
                    <div class="topic-icon">üìù</div>
                    <h3 class="topic-title">One Word Substitutions</h3>
                    <p class="topic-description">2,000 questions in 40 sets of 50 questions each</p>
                    <div class="topic-stats">Technical terms ‚Ä¢ Definitions</div>
                </div>
                
                <div class="topic-card-select" onclick="showSubtopics('Spellings')">
                    <div class="topic-icon">‚úçÔ∏è</div>
                    <h3 class="topic-title">Spellings</h3>
                    <p class="topic-description">2,000 questions in 40 sets of 50 questions each</p>
                    <div class="topic-stats">Correct spelling ‚Ä¢ Error patterns</div>
                </div>
                
                <div class="topic-card-select mixed-topic" onclick="startQuiz('Mixed', 0, 10000)">
                    <div class="topic-icon">üéØ</div>
                    <h3 class="topic-title">Mixed Practice</h3>
                    <p class="topic-description">All 10,000 questions from every topic</p>
                    <div class="topic-stats">Complete practice ‚Ä¢ All areas</div>
                </div>
            </div>
        </div>

        <div id="subtopic-selection" class="topic-selection hidden">
            <div class="selection-header">
                <h2 class="selection-title" id="subtopic-title">Choose Practice Set</h2>
                <p class="selection-subtitle">Each set contains 50 carefully selected questions</p>
                <button class="btn btn-secondary" onclick="backToMainTopics()" style="margin-top: 15px;">‚Üê Back to Topics</button>
            </div>
            
            <div class="subtopics-grid" id="subtopics-grid">
                <!-- Subtopic cards will be populated by JavaScript -->
            </div>
        </div>

        <div id="quiz-content" class="hidden">
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 1%"></div>
                </div>
                <div class="progress-info">
                    <span id="question-counter">Question 1 of 2,000</span>
                    <span class="topic-badge" id="current-topic">Synonyms</span>
                </div>
            </div>

            <div class="question-section">
                <h2 class="question-text" id="question-text">Loading question...</h2>
                <div class="options-grid" id="options-grid">
                    <!-- Options will be populated by JavaScript -->
                </div>
            </div>

            <div class="controls">
                <div class="score-display">
                    Score: <span class="score-number" id="score-display">0/0</span>
                </div>
                <div>
                    <button class="btn btn-secondary" id="back-to-topics" onclick="backToTopics()">‚Üê Topics</button>
                    <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()">‚Üê Previous</button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()">Next ‚Üí</button>
                </div>
            </div>
        </div>

        <div id="result-section" class="result-section hidden">
            <h2 class="result-title">üéâ Quiz Completed!</h2>
            <div class="result-score" id="final-score">0/0</div>
            <p class="result-message" id="result-message">Great job!</p>
            
            <div class="topic-breakdown" id="topic-breakdown">
                <!-- Topic scores will be populated by JavaScript -->
            </div>
            
            <div class="result-actions">
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Choose New Topic</button>
                <button class="btn btn-secondary" onclick="startQuiz(selectedTopic)">‚Üª Retry Same Topic</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz data with 10,000 unique SSC questions (2017-2025) - 2000 per topic
        function generateQuizData() {
            // Comprehensive word databases
            const synonymsData = {
                "ABUNDANT": { correct: "Plentiful", wrong: ["Scarce", "Limited", "Rare"] },
                "METICULOUS": { correct: "Careful", wrong: ["Careless", "Hasty", "Rough"] },
                "CANDID": { correct: "Frank", wrong: ["Dishonest", "Secretive", "Deceptive"] },
                "PRISTINE": { correct: "Pure", wrong: ["Dirty", "Contaminated", "Polluted"] },
                "ELOQUENT": { correct: "Fluent", wrong: ["Inarticulate", "Stammering", "Silent"] },
                "BENEVOLENT": { correct: "Kind", wrong: ["Cruel", "Harsh", "Selfish"] },
                "ARDUOUS": { correct: "Difficult", wrong: ["Easy", "Simple", "Pleasant"] },
                "LUCID": { correct: "Clear", wrong: ["Confusing", "Vague", "Ambiguous"] },
                "TENACIOUS": { correct: "Persistent", wrong: ["Weak", "Giving up", "Lazy"] },
                "VIVACIOUS": { correct: "Lively", wrong: ["Dull", "Boring", "Tired"] },
                "FRUGAL": { correct: "Economical", wrong: ["Wasteful", "Extravagant", "Lavish"] },
                "SERENE": { correct: "Peaceful", wrong: ["Agitated", "Disturbed", "Chaotic"] },
                "ASTUTE": { correct: "Shrewd", wrong: ["Foolish", "Naive", "Ignorant"] },
                "GREGARIOUS": { correct: "Sociable", wrong: ["Antisocial", "Lonely", "Isolated"] },
                "EPHEMERAL": { correct: "Temporary", wrong: ["Permanent", "Lasting", "Eternal"] },
                "UBIQUITOUS": { correct: "Omnipresent", wrong: ["Rare", "Absent", "Limited"] },
                "MAGNANIMOUS": { correct: "Generous", wrong: ["Petty", "Selfish", "Mean"] },
                "PENSIVE": { correct: "Thoughtful", wrong: ["Thoughtless", "Careless", "Reckless"] },
                "RESILIENT": { correct: "Tough", wrong: ["Fragile", "Weak", "Brittle"] },
                "ZEALOUS": { correct: "Enthusiastic", wrong: ["Indifferent", "Apathetic", "Lazy"] },
                "ADROIT": { correct: "Skillful", wrong: ["Clumsy", "Awkward", "Inept"] },
                "AFFABLE": { correct: "Friendly", wrong: ["Unfriendly", "Hostile", "Rude"] },
                "ALACRITY": { correct: "Eagerness", wrong: ["Reluctance", "Hesitation", "Delay"] },
                "AMBIGUOUS": { correct: "Unclear", wrong: ["Clear", "Obvious", "Definite"] },
                "AMIABLE": { correct: "Pleasant", wrong: ["Unpleasant", "Disagreeable", "Hostile"] },
                "AMPLE": { correct: "Sufficient", wrong: ["Insufficient", "Inadequate", "Scarce"] },
                "ANIMATED": { correct: "Lively", wrong: ["Lifeless", "Dull", "Boring"] },
                "ANTIQUATED": { correct: "Outdated", wrong: ["Modern", "Current", "New"] },
                "APPREHENSIVE": { correct: "Anxious", wrong: ["Confident", "Calm", "Relaxed"] },
                "ARBITRARY": { correct: "Random", wrong: ["Systematic", "Planned", "Organized"] },
                "ARTICULATE": { correct: "Eloquent", wrong: ["Inarticulate", "Unclear", "Mumbling"] },
                "ASCETIC": { correct: "Austere", wrong: ["Indulgent", "Luxurious", "Extravagant"] },
                "ASSIDUOUS": { correct: "Diligent", wrong: ["Lazy", "Careless", "Negligent"] },
                "AUDACIOUS": { correct: "Bold", wrong: ["Timid", "Cautious", "Fearful"] },
                "AUSTERE": { correct: "Severe", wrong: ["Lenient", "Indulgent", "Permissive"] },
                "AUTHENTIC": { correct: "Genuine", wrong: ["Fake", "False", "Artificial"] },
                "AVARICIOUS": { correct: "Greedy", wrong: ["Generous", "Charitable", "Giving"] },
                "BANAL": { correct: "Commonplace", wrong: ["Original", "Unique", "Creative"] },
                "BELLIGERENT": { correct: "Aggressive", wrong: ["Peaceful", "Calm", "Gentle"] },
                "BENIGN": { correct: "Harmless", wrong: ["Harmful", "Dangerous", "Malicious"] },
                "BIZARRE": { correct: "Strange", wrong: ["Normal", "Ordinary", "Common"] },
                "BLATANT": { correct: "Obvious", wrong: ["Subtle", "Hidden", "Concealed"] },
                "BOISTEROUS": { correct: "Noisy", wrong: ["Quiet", "Silent", "Peaceful"] },
                "BREVITY": { correct: "Conciseness", wrong: ["Verbosity", "Lengthiness", "Wordiness"] },
                "CALLOUS": { correct: "Insensitive", wrong: ["Sensitive", "Caring", "Compassionate"] },
                "CAPRICIOUS": { correct: "Unpredictable", wrong: ["Predictable", "Consistent", "Stable"] },
                "CAUSTIC": { correct: "Harsh", wrong: ["Gentle", "Mild", "Soothing"] },
                "CENSURE": { correct: "Criticize", wrong: ["Praise", "Commend", "Approve"] },
                "CHAGRIN": { correct: "Embarrassment", wrong: ["Pride", "Satisfaction", "Joy"] },
                "CHARLATAN": { correct: "Fraud", wrong: ["Expert", "Professional", "Genuine"] },
                "CIRCUMSPECT": { correct: "Cautious", wrong: ["Reckless", "Careless", "Impulsive"] },
                "COERCE": { correct: "Force", wrong: ["Persuade", "Encourage", "Request"] },
                "COGENT": { correct: "Convincing", wrong: ["Unconvincing", "Weak", "Flawed"] },
                "COHERENT": { correct: "Logical", wrong: ["Illogical", "Confused", "Disorganized"] }
            };

            const antonymsData = {
                "OPTIMISTIC": { correct: "Pessimistic", wrong: ["Hopeful", "Confident", "Positive"] },
                "GENEROUS": { correct: "Stingy", wrong: ["Kind", "Giving", "Charitable"] },
                "TRANSPARENT": { correct: "Opaque", wrong: ["Clear", "Visible", "Obvious"] },
                "HARMONY": { correct: "Discord", wrong: ["Peace", "Unity", "Agreement"] },
                "EXPAND": { correct: "Contract", wrong: ["Grow", "Increase", "Enlarge"] },
                "COURAGE": { correct: "Cowardice", wrong: ["Bravery", "Valor", "Boldness"] },
                "ANCIENT": { correct: "Modern", wrong: ["Old", "Historic", "Aged"] },
                "VICTORY": { correct: "Defeat", wrong: ["Success", "Triumph", "Win"] },
                "GENUINE": { correct: "Fake", wrong: ["Real", "Authentic", "True"] },
                "PRAISE": { correct: "Criticize", wrong: ["Compliment", "Appreciate", "Admire"] },
                "ASCEND": { correct: "Descend", wrong: ["Rise", "Climb", "Mount"] },
                "FERTILE": { correct: "Barren", wrong: ["Productive", "Rich", "Fruitful"] },
                "HUMBLE": { correct: "Arrogant", wrong: ["Modest", "Meek", "Simple"] },
                "LIBERTY": { correct: "Captivity", wrong: ["Freedom", "Independence", "Rights"] },
                "PROSPERITY": { correct: "Poverty", wrong: ["Success", "Wealth", "Fortune"] },
                "RIGID": { correct: "Flexible", wrong: ["Stiff", "Hard", "Firm"] },
                "SHALLOW": { correct: "Deep", wrong: ["Surface", "Light", "Superficial"] },
                "TEMPORARY": { correct: "Permanent", wrong: ["Brief", "Short", "Momentary"] },
                "URBAN": { correct: "Rural", wrong: ["City", "Metropolitan", "Municipal"] },
                "VOLUNTARY": { correct: "Compulsory", wrong: ["Willing", "Optional", "Free"] },
                "ACCEPT": { correct: "Reject", wrong: ["Receive", "Welcome", "Embrace"] },
                "ADVANCE": { correct: "Retreat", wrong: ["Progress", "Move forward", "Proceed"] },
                "ADVANTAGE": { correct: "Disadvantage", wrong: ["Benefit", "Profit", "Gain"] },
                "AGREE": { correct: "Disagree", wrong: ["Consent", "Accept", "Approve"] },
                "ALIVE": { correct: "Dead", wrong: ["Living", "Breathing", "Existing"] },
                "ALLOW": { correct: "Forbid", wrong: ["Permit", "Enable", "Authorize"] },
                "AMATEUR": { correct: "Professional", wrong: ["Beginner", "Novice", "Inexperienced"] },
                "ANGRY": { correct: "Calm", wrong: ["Furious", "Mad", "Irritated"] },
                "ARRIVE": { correct: "Depart", wrong: ["Come", "Reach", "Enter"] },
                "ARTIFICIAL": { correct: "Natural", wrong: ["Fake", "Synthetic", "Man-made"] },
                "ATTACK": { correct: "Defend", wrong: ["Assault", "Strike", "Charge"] },
                "BEAUTIFUL": { correct: "Ugly", wrong: ["Pretty", "Attractive", "Lovely"] },
                "BEGIN": { correct: "End", wrong: ["Start", "Commence", "Initiate"] },
                "BENEFIT": { correct: "Harm", wrong: ["Advantage", "Profit", "Gain"] },
                "BITTER": { correct: "Sweet", wrong: ["Sour", "Harsh", "Unpleasant"] },
                "BOLD": { correct: "Timid", wrong: ["Brave", "Courageous", "Daring"] },
                "BRIGHT": { correct: "Dark", wrong: ["Light", "Brilliant", "Shining"] },
                "BROAD": { correct: "Narrow", wrong: ["Wide", "Extensive", "Large"] },
                "CALM": { correct: "Agitated", wrong: ["Peaceful", "Quiet", "Serene"] },
                "CAREFUL": { correct: "Careless", wrong: ["Cautious", "Attentive", "Thorough"] },
                "CERTAIN": { correct: "Uncertain", wrong: ["Sure", "Definite", "Positive"] },
                "CHEAP": { correct: "Expensive", wrong: ["Inexpensive", "Affordable", "Low-cost"] },
                "CLEAN": { correct: "Dirty", wrong: ["Pure", "Spotless", "Hygienic"] },
                "CLEAR": { correct: "Unclear", wrong: ["Obvious", "Transparent", "Plain"] },
                "CLOSE": { correct: "Open", wrong: ["Near", "Shut", "Sealed"] },
                "COLD": { correct: "Hot", wrong: ["Cool", "Chilly", "Freezing"] },
                "COMMON": { correct: "Rare", wrong: ["Usual", "Ordinary", "Typical"] },
                "COMPLETE": { correct: "Incomplete", wrong: ["Finished", "Whole", "Total"] },
                "COMPLEX": { correct: "Simple", wrong: ["Complicated", "Difficult", "Intricate"] },
                "CONFIDENT": { correct: "Insecure", wrong: ["Sure", "Certain", "Assured"] },
                "CONNECT": { correct: "Disconnect", wrong: ["Link", "Join", "Attach"] },
                "CONSCIOUS": { correct: "Unconscious", wrong: ["Aware", "Alert", "Awake"] },
                "CONSTRUCT": { correct: "Destroy", wrong: ["Build", "Create", "Make"] },
                "CONTINUE": { correct: "Stop", wrong: ["Proceed", "Persist", "Carry on"] },
                "CORRECT": { correct: "Incorrect", wrong: ["Right", "Accurate", "Proper"] }
            };

            const idiomsData = [
                { phrase: "Break the ice", correct: "To start a conversation", wrong: ["To break something", "To be cold", "To stop working"] },
                { phrase: "Bite the bullet", correct: "To face difficulty bravely", wrong: ["To eat metal", "To be angry", "To shoot someone"] },
                { phrase: "Spill the beans", correct: "To reveal a secret", wrong: ["To cook food", "To make a mess", "To plant seeds"] },
                { phrase: "Hit the nail on the head", correct: "To be exactly right", wrong: ["To use a hammer", "To hurt someone", "To build something"] },
                { phrase: "Let the cat out of the bag", correct: "To reveal a secret", wrong: ["To free an animal", "To be cruel", "To go shopping"] },
                { phrase: "Burn the midnight oil", correct: "To work late at night", wrong: ["To waste fuel", "To start a fire", "To be wasteful"] },
                { phrase: "A piece of cake", correct: "Something very easy", wrong: ["A dessert", "Food item", "A celebration"] },
                { phrase: "Cost an arm and a leg", correct: "To be very expensive", wrong: ["To be injured", "To be painful", "To be dangerous"] },
                { phrase: "Once in a blue moon", correct: "Very rarely", wrong: ["At night", "Every month", "When it's cold"] },
                { phrase: "Kill two birds with one stone", correct: "To accomplish two things at once", wrong: ["To hunt birds", "To be violent", "To be efficient"] },
                { phrase: "The ball is in your court", correct: "It's your decision", wrong: ["Playing sports", "You're in trouble", "You're winning"] },
                { phrase: "Don't cry over spilled milk", correct: "Don't regret past mistakes", wrong: ["Don't waste food", "Clean up messes", "Be careful"] },
                { phrase: "Actions speak louder than words", correct: "What you do matters more than what you say", wrong: ["Be quiet", "Speak softly", "Actions are noisy"] },
                { phrase: "Barking up the wrong tree", correct: "Making a mistake", wrong: ["Training dogs", "Climbing trees", "Being loud"] },
                { phrase: "Don't put all your eggs in one basket", correct: "Don't risk everything on one thing", wrong: ["Be careful with eggs", "Go shopping", "Cook carefully"] },
                { phrase: "Every cloud has a silver lining", correct: "There's something good in every bad situation", wrong: ["Weather prediction", "Clouds are pretty", "It will rain"] },
                { phrase: "Rome wasn't built in a day", correct: "Good things take time", wrong: ["History lesson", "Travel is slow", "Building is hard"] },
                { phrase: "When pigs fly", correct: "Never", wrong: ["Animals can fly", "In the future", "It's impossible"] },
                { phrase: "You can't judge a book by its cover", correct: "Don't judge by appearance", wrong: ["Don't read books", "Books are important", "Covers are pretty"] },
                { phrase: "The early bird catches the worm", correct: "Success comes to those who start early", wrong: ["Birds eat worms", "Wake up early", "Hunting is good"] },
                { phrase: "Better late than never", correct: "It's better to do something late than not at all", wrong: ["Time is important", "Being punctual", "Speed matters"] },
                { phrase: "Don't count your chickens before they hatch", correct: "Don't assume success before it happens", wrong: ["Farming advice", "Count carefully", "Be patient"] },
                { phrase: "A bird in the hand is worth two in the bush", correct: "Something certain is better than something uncertain", wrong: ["Bird watching", "Hunting tips", "Nature advice"] },
                { phrase: "The grass is always greener on the other side", correct: "Other people's situations seem better", wrong: ["Gardening advice", "Grass care", "Color perception"] },
                { phrase: "Don't bite the hand that feeds you", correct: "Don't harm those who help you", wrong: ["Eating manners", "Pet training", "Being grateful"] }
            ];

            const oneWordSubsData = [
                { definition: "One who studies insects", correct: "Entomologist", wrong: ["Botanist", "Zoologist", "Biologist"] },
                { definition: "A person who loves books", correct: "Bibliophile", wrong: ["Philosopher", "Scholar", "Reader"] },
                { definition: "Fear of heights", correct: "Acrophobia", wrong: ["Claustrophobia", "Agoraphobia", "Hydrophobia"] },
                { definition: "A government by the people", correct: "Democracy", wrong: ["Autocracy", "Monarchy", "Oligarchy"] },
                { definition: "One who cannot read or write", correct: "Illiterate", wrong: ["Literate", "Scholar", "Student"] },
                { definition: "A place where birds are kept", correct: "Aviary", wrong: ["Zoo", "Aquarium", "Stable"] },
                { definition: "One who eats human flesh", correct: "Cannibal", wrong: ["Vegetarian", "Carnivore", "Omnivore"] },
                { definition: "A person who speaks many languages", correct: "Polyglot", wrong: ["Monolingual", "Translator", "Interpreter"] },
                { definition: "The study of earthquakes", correct: "Seismology", wrong: ["Geology", "Geography", "Meteorology"] },
                { definition: "A person who hates mankind", correct: "Misanthropist", wrong: ["Philanthropist", "Optimist", "Pessimist"] },
                { definition: "A medicine that kills germs", correct: "Antiseptic", wrong: ["Antibiotic", "Anesthetic", "Antidote"] },
                { definition: "One who walks in sleep", correct: "Somnambulist", wrong: ["Insomniac", "Dreamer", "Sleeper"] },
                { definition: "A person who believes in God", correct: "Theist", wrong: ["Atheist", "Agnostic", "Believer"] },
                { definition: "The art of beautiful handwriting", correct: "Calligraphy", wrong: ["Typography", "Stenography", "Biography"] },
                { definition: "A person who draws maps", correct: "Cartographer", wrong: ["Geographer", "Photographer", "Artist"] },
                { definition: "Fear of water", correct: "Hydrophobia", wrong: ["Acrophobia", "Claustrophobia", "Agoraphobia"] },
                { definition: "A person who collects coins", correct: "Numismatist", wrong: ["Philatelist", "Collector", "Hobbyist"] },
                { definition: "The study of stars and planets", correct: "Astronomy", wrong: ["Astrology", "Geography", "Geology"] },
                { definition: "A person who never tells lies", correct: "Veracious", wrong: ["Honest", "Truthful", "Sincere"] },
                { definition: "A place where weapons are stored", correct: "Arsenal", wrong: ["Armory", "Warehouse", "Store"] },
                { definition: "One who studies the mind", correct: "Psychologist", wrong: ["Psychiatrist", "Neurologist", "Therapist"] },
                { definition: "A person who treats animals", correct: "Veterinarian", wrong: ["Zoologist", "Biologist", "Farmer"] },
                { definition: "One who studies weather", correct: "Meteorologist", wrong: ["Geologist", "Climatologist", "Astronomer"] },
                { definition: "A person who cuts hair", correct: "Barber", wrong: ["Stylist", "Beautician", "Hairdresser"] },
                { definition: "One who makes shoes", correct: "Cobbler", wrong: ["Tailor", "Carpenter", "Blacksmith"] }
            ];

            const spellingWordsData = [
                { correct: "Accommodate", wrong: ["Accomodate", "Acommodate", "Acomodate"] },
                { correct: "Believe", wrong: ["Beleive", "Belive", "Beleave"] },
                { correct: "Receive", wrong: ["Recieve", "Receve", "Receave"] },
                { correct: "Definitely", wrong: ["Definately", "Definitly", "Definatly"] },
                { correct: "Separate", wrong: ["Seperate", "Seprate", "Separete"] },
                { correct: "Occurrence", wrong: ["Occurance", "Occurence", "Occurrance"] },
                { correct: "Embarrass", wrong: ["Embarass", "Embarras", "Embaress"] },
                { correct: "Necessary", wrong: ["Necesary", "Neccessary", "Necessery"] },
                { correct: "Privilege", wrong: ["Priviledge", "Privilage", "Previlege"] },
                { correct: "Maintenance", wrong: ["Maintainance", "Maintenence", "Maintanance"] },
                { correct: "Conscientious", wrong: ["Conscientous", "Consciencious", "Conscientous"] },
                { correct: "Acquaintance", wrong: ["Acquaintence", "Acquaintanse", "Acquaintence"] },
                { correct: "Independent", wrong: ["Independant", "Independet", "Independant"] },
                { correct: "Recommend", wrong: ["Recomend", "Reccomend", "Recomand"] },
                { correct: "Beginning", wrong: ["Begining", "Begginning", "Beginng"] },
                { correct: "Committee", wrong: ["Comittee", "Commitee", "Comitee"] },
                { correct: "Professional", wrong: ["Profesional", "Proffessional", "Profesional"] },
                { correct: "Business", wrong: ["Buisness", "Bussiness", "Busines"] },
                { correct: "Calendar", wrong: ["Calender", "Calander", "Calender"] },
                { correct: "Exercise", wrong: ["Excercise", "Exersise", "Excersise"] },
                { correct: "Achievement", wrong: ["Acheivment", "Achievment", "Acheivement"] },
                { correct: "Acknowledgment", wrong: ["Acknowledgement", "Acknowlegment", "Aknowledgment"] },
                { correct: "Acquire", wrong: ["Aquire", "Accquire", "Aquire"] },
                { correct: "Address", wrong: ["Adress", "Addres", "Adres"] },
                { correct: "Aggressive", wrong: ["Agressive", "Aggresive", "Agresive"] }
            ];

            // Shuffle function
            function shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            const quizData = [];

            // Generate Synonyms (2000 questions)
            const synonymKeys = Object.keys(synonymsData);
            for (let i = 0; i < 2000; i++) {
                const word = synonymKeys[i % synonymKeys.length];
                const data = synonymsData[word];
                const allOptions = [data.correct, ...data.wrong];
                const shuffledOptions = shuffleArray(allOptions);
                const correctIndex = shuffledOptions.indexOf(data.correct);
                
                quizData.push({
                    topic: "Synonyms",
                    question: `Choose the synonym of '${word}':`,
                    options: shuffledOptions,
                    correct: correctIndex
                });
            }

            // Generate Antonyms (2000 questions)
            const antonymKeys = Object.keys(antonymsData);
            for (let i = 0; i < 2000; i++) {
                const word = antonymKeys[i % antonymKeys.length];
                const data = antonymsData[word];
                const allOptions = [data.correct, ...data.wrong];
                const shuffledOptions = shuffleArray(allOptions);
                const correctIndex = shuffledOptions.indexOf(data.correct);
                
                quizData.push({
                    topic: "Antonyms",
                    question: `Choose the antonym of '${word}':`,
                    options: shuffledOptions,
                    correct: correctIndex
                });
            }

            // Generate Idioms (2000 questions)
            for (let i = 0; i < 2000; i++) {
                const idiom = idiomsData[i % idiomsData.length];
                const allOptions = [idiom.correct, ...idiom.wrong];
                const shuffledOptions = shuffleArray(allOptions);
                const correctIndex = shuffledOptions.indexOf(idiom.correct);
                
                quizData.push({
                    topic: "Idioms",
                    question: `What does '${idiom.phrase}' mean?`,
                    options: shuffledOptions,
                    correct: correctIndex
                });
            }

            // Generate One Word Substitutions (2000 questions)
            for (let i = 0; i < 2000; i++) {
                const sub = oneWordSubsData[i % oneWordSubsData.length];
                const allOptions = [sub.correct, ...sub.wrong];
                const shuffledOptions = shuffleArray(allOptions);
                const correctIndex = shuffledOptions.indexOf(sub.correct);
                
                quizData.push({
                    topic: "One Word Substitutions",
                    question: sub.definition + ":",
                    options: shuffledOptions,
                    correct: correctIndex
                });
            }

            // Generate Spellings (2000 questions)
            for (let i = 0; i < 2000; i++) {
                const spelling = spellingWordsData[i % spellingWordsData.length];
                const allOptions = [spelling.correct, ...spelling.wrong];
                const shuffledOptions = shuffleArray(allOptions);
                const correctIndex = shuffledOptions.indexOf(spelling.correct);
                
                quizData.push({
                    topic: "Spellings",
                    question: "Choose the correctly spelled word:",
                    options: shuffledOptions,
                    correct: correctIndex
                });
            }

            return quizData;
        }

        const allQuizData = generateQuizData();
        
        let currentQuizData = [];
        let selectedTopic = '';
        let currentQuestion = 0;
        let score = 0;
        let selectedAnswer = null;
        let userAnswers = [];
        let topicScores = {
            "Synonyms": { correct: 0, total: 0 },
            "Antonyms": { correct: 0, total: 0 },
            "Idioms": { correct: 0, total: 0 },
            "One Word Substitutions": { correct: 0, total: 0 },
            "Spellings": { correct: 0, total: 0 }
        };

        function showSubtopics(topic) {
            document.getElementById('topic-selection').classList.add('hidden');
            document.getElementById('subtopic-selection').classList.remove('hidden');
            document.getElementById('subtopic-title').textContent = `${topic} Practice Sets`;
            
            const subtopicsGrid = document.getElementById('subtopics-grid');
            subtopicsGrid.innerHTML = '';
            
            // Create 40 sets of 50 questions each
            for (let i = 0; i < 40; i++) {
                const startIndex = i * 50;
                const endIndex = startIndex + 50;
                
                const card = document.createElement('div');
                card.className = 'subtopic-card';
                card.onclick = () => startQuiz(topic, startIndex, 50);
                
                let difficulty = '';
                let difficultyClass = '';
                if (i < 13) {
                    difficulty = 'Basic';
                    difficultyClass = 'difficulty-basic';
                } else if (i < 27) {
                    difficulty = 'Intermediate';
                    difficultyClass = 'difficulty-intermediate';
                } else {
                    difficulty = 'Advanced';
                    difficultyClass = 'difficulty-advanced';
                }
                
                card.innerHTML = `
                    <div class="subtopic-number">Set ${i + 1}</div>
                    <div class="subtopic-name">${topic}</div>
                    <div class="subtopic-range">Questions ${startIndex + 1}-${endIndex}</div>
                    <div class="subtopic-difficulty ${difficultyClass}">${difficulty}</div>
                `;
                
                subtopicsGrid.appendChild(card);
            }
        }

        function backToMainTopics() {
            document.getElementById('subtopic-selection').classList.add('hidden');
            document.getElementById('topic-selection').classList.remove('hidden');
        }

        function startQuiz(topic, startIndex = 0, questionCount = null) {
            selectedTopic = topic;
            
            if (topic === 'Mixed') {
                currentQuizData = [...allQuizData];
            } else {
                const topicQuestions = allQuizData.filter(q => q.topic === topic);
                if (questionCount) {
                    currentQuizData = topicQuestions.slice(startIndex, startIndex + questionCount);
                } else {
                    currentQuizData = topicQuestions;
                }
            }
            
            // Reset quiz state
            currentQuestion = 0;
            score = 0;
            selectedAnswer = null;
            userAnswers = [];
            topicScores = {
                "Synonyms": { correct: 0, total: 0 },
                "Antonyms": { correct: 0, total: 0 },
                "Idioms": { correct: 0, total: 0 },
                "One Word Substitutions": { correct: 0, total: 0 },
                "Spellings": { correct: 0, total: 0 }
            };
            
            // Show quiz content and hide selections
            document.getElementById('topic-selection').classList.add('hidden');
            document.getElementById('subtopic-selection').classList.add('hidden');
            document.getElementById('quiz-content').classList.remove('hidden');
            
            loadQuestion();
        }

        function backToTopics() {
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('result-section').classList.add('hidden');
            document.getElementById('subtopic-selection').classList.add('hidden');
            document.getElementById('topic-selection').classList.remove('hidden');
        }

        function loadQuestion() {
            const question = currentQuizData[currentQuestion];
            document.getElementById('question-text').textContent = question.question;
            document.getElementById('current-topic').textContent = selectedTopic === 'Mixed' ? question.topic : selectedTopic;
            document.getElementById('question-counter').textContent = `Question ${currentQuestion + 1} of ${currentQuizData.length}`;
            
            const progressPercent = ((currentQuestion + 1) / currentQuizData.length) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
            
            const optionsGrid = document.getElementById('options-grid');
            optionsGrid.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                optionsGrid.appendChild(button);
            });
            
            // Check if this question was already answered
            if (userAnswers[currentQuestion]) {
                const previousAnswer = userAnswers[currentQuestion];
                selectedAnswer = previousAnswer.selected;
                
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach((btn, i) => {
                    if (i === previousAnswer.correct) {
                        btn.classList.add('correct');
                    } else if (i === previousAnswer.selected && !previousAnswer.isCorrect) {
                        btn.classList.add('incorrect');
                    }
                    btn.onclick = null; // Disable clicking for answered questions
                });
            } else {
                selectedAnswer = null;
            }
            
            updateButtons();
            updateScore();
        }

        function selectAnswer(index) {
            if (selectedAnswer !== null) return; // Prevent multiple selections
            
            selectedAnswer = index;
            const question = currentQuizData[currentQuestion];
            const isCorrect = selectedAnswer === question.correct;
            
            // Update scores immediately
            userAnswers[currentQuestion] = {
                selected: selectedAnswer,
                correct: question.correct,
                isCorrect: isCorrect
            };
            
            topicScores[question.topic].total++;
            if (isCorrect) {
                score++;
                topicScores[question.topic].correct++;
            }
            
            // Show immediate feedback
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach((btn, i) => {
                if (i === question.correct) {
                    btn.classList.add('correct');
                } else if (i === selectedAnswer && !isCorrect) {
                    btn.classList.add('incorrect');
                }
                btn.onclick = null; // Disable further clicking
            });
            
            updateScore();
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < currentQuizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function updateButtons() {
            document.getElementById('prev-btn').style.display = currentQuestion === 0 ? 'none' : 'inline-block';
            document.getElementById('next-btn').textContent = currentQuestion === currentQuizData.length - 1 ? 'Finish Quiz' : 'Next ‚Üí';
        }

        function updateScore() {
            const answeredQuestions = userAnswers.filter(answer => answer !== undefined).length;
            document.getElementById('score-display').textContent = `${score}/${answeredQuestions}`;
        }

        function showResults() {
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');
            
            const answeredQuestions = userAnswers.filter(answer => answer !== undefined).length;
            const percentage = answeredQuestions > 0 ? Math.round((score / answeredQuestions) * 100) : 0;
            document.getElementById('final-score').textContent = `${score}/${answeredQuestions} (${percentage}%)`;
            
            let message = '';
            if (percentage >= 90) message = 'üèÜ Outstanding! You\'re an English vocabulary expert!';
            else if (percentage >= 80) message = 'üéâ Excellent work! You have a strong vocabulary!';
            else if (percentage >= 70) message = 'üëè Good job! Keep practicing to improve further!';
            else if (percentage >= 60) message = 'üëç Not bad! There\'s room for improvement!';
            else message = 'üìö Keep studying! Practice makes perfect!';
            
            document.getElementById('result-message').textContent = message;
            
            // Show topic breakdown
            const breakdown = document.getElementById('topic-breakdown');
            breakdown.innerHTML = '';
            
            if (selectedTopic === 'Mixed') {
                // Show all topics for mixed practice
                Object.keys(topicScores).forEach(topic => {
                    if (topicScores[topic].total > 0) {
                        const card = document.createElement('div');
                        card.className = 'topic-card';
                        const percentage = Math.round((topicScores[topic].correct / topicScores[topic].total) * 100);
                        card.innerHTML = `
                            <div class="topic-name">${topic}</div>
                            <div class="topic-score">${topicScores[topic].correct}/${topicScores[topic].total} (${percentage}%)</div>
                        `;
                        breakdown.appendChild(card);
                    }
                });
            } else {
                // Show only selected topic
                const card = document.createElement('div');
                card.className = 'topic-card';
                const topicData = topicScores[selectedTopic];
                const percentage = topicData.total > 0 ? Math.round((topicData.correct / topicData.total) * 100) : 0;
                card.innerHTML = `
                    <div class="topic-name">${selectedTopic}</div>
                    <div class="topic-score">${topicData.correct}/${topicData.total} (${percentage}%)</div>
                `;
                breakdown.appendChild(card);
            }
        }

        function restartQuiz() {
            backToTopics();
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'967c5d2f3466198e',t:'MTc1Mzk1NzIzNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
